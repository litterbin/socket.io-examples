<!DOCTYPE html>
<html>
    <head>
        <title>Socket.IO Chat </title>
        <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body { font: 13px Helvetica, Arial; }
            header.main {
                position: fixed;
                top:0;
                width:100%;
                height:40px;
                color:#fff;
                background: rgb(66,71,73);
                padding:10px;
            }
            div.main {
                position: fixed;
                top:40px;
                left:0;
                right:0;
                bottom:0;
            }
            div.main nav {
                position: absolute;
                top:0;
                left:0;
                width:20%;
                height:100%;
                padding:10px;
                background:rgb(230,230,230);
            }
            section.channel {
                position: relative;
                left:20%;
                width:80%;
                height:100%;
                border: solid;
                border-color:red;
            }

            div.messages {
                position: absolute;
                top:0;
                bottom:40px;
                width:100%;
                border: solid;
                border-color:blue;
            }

            div.message-input {
                position: absolute;
                bottom:0;
                width:100%;
            }

            div.message-input form { background: #000; padding: 2px; }
            div.message-input form input { border: 0; padding: 10px; width: 90%; margin-right: .5%; }
            div.message-input form button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }

            #messages { 
                position: absolute;
                overflow:auto;
                max-height:100%;
                bottom:0;
                width:100%;
                list-style-type: none; 
            }
            #messages li { padding: 5px 10px; }
            #messages li:nth-child(odd) { background: #eee; }
        </style>
    </head>
    <body>
        <header class="main">chat</header>
        <div class="main">
            <nav>
                <div>channels</div>
            </nav>
            <section class="channel">
                <div class="messages">
                    <ul id="messages">
                    </ul>
                </div>
                <div class="message-input">
                    <form action="">
                        <input id="m" autocomplete="off" /><button>Send</button>
                    </form>
                </div>
            </section>
        </div>

        <script src="https://cdn.socket.io/socket.io-1.3.4.js"></script>
        <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
        <script type="text/javascript">
        var socket = io();
        $('form').submit(function() {
            socket.emit('chat message',$('#m').val());
            $('#m').val('');
            return false;
        });
        socket.on('chat message',function(msg) {
            $('#messages').append($('<li>').text(msg));
            document.getElementById("messages").scrollTop = document.getElementById("messages").scrollHeight;
        });
        </script>
    </body>
</html>
